<svg width="1400" height="860" viewBox="0 0 1400 860" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="MetaClaw Obsidian workflow diagram">
  <defs>
    <linearGradient id="bg" x1="0" y1="0" x2="1" y2="1">
      <stop offset="0%" stop-color="#0b1220"/>
      <stop offset="50%" stop-color="#10213b"/>
      <stop offset="100%" stop-color="#152f4d"/>
    </linearGradient>
    <linearGradient id="accentA" x1="0" y1="0" x2="1" y2="1">
      <stop offset="0%" stop-color="#1e3a8a"/>
      <stop offset="100%" stop-color="#3b82f6"/>
    </linearGradient>
    <linearGradient id="accentB" x1="0" y1="0" x2="1" y2="1">
      <stop offset="0%" stop-color="#0f766e"/>
      <stop offset="100%" stop-color="#14b8a6"/>
    </linearGradient>
    <linearGradient id="accentC" x1="0" y1="0" x2="1" y2="1">
      <stop offset="0%" stop-color="#a16207"/>
      <stop offset="100%" stop-color="#f59e0b"/>
    </linearGradient>
    <linearGradient id="accentD" x1="0" y1="0" x2="1" y2="1">
      <stop offset="0%" stop-color="#6d28d9"/>
      <stop offset="100%" stop-color="#8b5cf6"/>
    </linearGradient>
    <linearGradient id="panel" x1="0" y1="0" x2="0" y2="1">
      <stop offset="0%" stop-color="#ffffff" stop-opacity="0.12"/>
      <stop offset="100%" stop-color="#ffffff" stop-opacity="0.04"/>
    </linearGradient>
    <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="0" dy="10" stdDeviation="10" flood-color="#020617" flood-opacity="0.35"/>
    </filter>
    <marker id="arrow" viewBox="0 0 10 10" refX="9" refY="5" markerWidth="8" markerHeight="8" orient="auto-start-reverse">
      <path d="M 0 0 L 10 5 L 0 10 z" fill="#cbd5e1"/>
    </marker>
    <style>
      .title { font: 700 42px 'Avenir Next', 'Segoe UI', sans-serif; fill: #f8fafc; }
      .subtitle { font: 500 20px 'Avenir Next', 'Segoe UI', sans-serif; fill: #cbd5e1; }
      .h { font: 700 21px 'Avenir Next', 'Segoe UI', sans-serif; fill: #f8fafc; }
      .b { font: 500 16px 'Avenir Next', 'Segoe UI', sans-serif; fill: #e2e8f0; }
      .small { font: 500 14px 'Avenir Next', 'Segoe UI', sans-serif; fill: #cbd5e1; }
      .line { stroke: #cbd5e1; stroke-width: 2.5; fill: none; marker-end: url(#arrow); }
      .line2 { stroke: #93c5fd; stroke-width: 2.5; fill: none; marker-end: url(#arrow); }
      .line3 { stroke: #a7f3d0; stroke-width: 2.5; fill: none; marker-end: url(#arrow); }
      .line4 { stroke: #fde68a; stroke-width: 2.5; fill: none; marker-end: url(#arrow); }
      .chip { font: 600 13px 'Avenir Next', 'Segoe UI', sans-serif; fill: #f8fafc; }
    </style>
  </defs>

  <rect width="1400" height="860" fill="url(#bg)"/>
  <circle cx="1200" cy="130" r="180" fill="#38bdf8" opacity="0.10"/>
  <circle cx="220" cy="760" r="220" fill="#22c55e" opacity="0.09"/>

  <text x="62" y="72" class="title">MetaClaw Obsidian Bot Workflow</text>
  <text x="62" y="106" class="subtitle">Engine repo + example repo + runtime + external providers in one reproducible loop</text>

  <rect x="56" y="148" width="326" height="178" rx="20" fill="url(#accentD)" filter="url(#shadow)"/>
  <rect x="56" y="148" width="326" height="178" rx="20" fill="url(#panel)"/>
  <text x="84" y="194" class="h">Terminal User</text>
  <text x="84" y="222" class="b">- Runs `metaclaw` commands</text>
  <text x="84" y="248" class="b">- Talks via `chat_tui.py`</text>
  <text x="84" y="274" class="b">- Chooses `/net out` only when needed</text>
  <text x="84" y="300" class="b">- Saves notes with controlled `/save` flow</text>

  <rect x="56" y="378" width="326" height="188" rx="20" fill="url(#accentB)" filter="url(#shadow)"/>
  <rect x="56" y="378" width="326" height="188" rx="20" fill="url(#panel)"/>
  <text x="84" y="424" class="h">Obsidian Vault</text>
  <text x="84" y="452" class="b">- Mounted read-only into container as `/vault`</text>
  <text x="84" y="478" class="b">- Retrieval scope: `Research/` + `Learning/`</text>
  <text x="84" y="504" class="b">- Host writes audited outside container</text>
  <text x="84" y="530" class="b">- Avoid overlapping mount risk</text>

  <rect x="430" y="148" width="388" height="178" rx="20" fill="url(#accentA)" filter="url(#shadow)"/>
  <rect x="430" y="148" width="388" height="178" rx="20" fill="url(#panel)"/>
  <text x="458" y="194" class="h">metaclaw-examples</text>
  <text x="458" y="222" class="b">`examples/obsidian-terminal-bot-advanced/`</text>
  <text x="458" y="248" class="b">- `agent.claw` (policy + mounts + entrypoint)</text>
  <text x="458" y="274" class="b">- image-layer bot code (`chat_once.py`)</text>
  <text x="458" y="300" class="b">- build script pins image digest</text>

  <rect x="430" y="378" width="388" height="188" rx="20" fill="url(#accentC)" filter="url(#shadow)"/>
  <rect x="430" y="378" width="388" height="188" rx="20" fill="url(#panel)"/>
  <text x="458" y="424" class="h">metaclaw (Engine)</text>
  <text x="458" y="452" class="b">- validate -> compile -> policy -> run</text>
  <text x="458" y="478" class="b">- runtime adapters: Apple / Podman / Docker</text>
  <text x="458" y="504" class="b">- runtime-only secret injection</text>
  <text x="458" y="530" class="b">- state + events for inspect/debug</text>

  <rect x="866" y="148" width="478" height="178" rx="20" fill="#0f172a" opacity="0.95" filter="url(#shadow)"/>
  <rect x="886" y="176" width="214" height="124" rx="14" fill="url(#accentA)"/>
  <rect x="1114" y="176" width="210" height="124" rx="14" fill="url(#accentB)"/>
  <text x="908" y="208" class="h">OCI Image</text>
  <text x="908" y="232" class="small">`metaclaw/obsidian-terminal-bot`</text>
  <text x="908" y="254" class="small">digest pinned</text>
  <text x="908" y="276" class="small">reproducible runtime</text>
  <text x="1136" y="208" class="h">ClawCapsule</text>
  <text x="1136" y="232" class="small">IR + policy + locks</text>
  <text x="1136" y="254" class="small">inspectable artifact</text>
  <text x="1136" y="276" class="small">diffable revisions</text>

  <rect x="866" y="378" width="230" height="188" rx="20" fill="url(#accentD)" filter="url(#shadow)"/>
  <rect x="866" y="378" width="230" height="188" rx="20" fill="url(#panel)"/>
  <text x="892" y="424" class="h">Runtime</text>
  <text x="892" y="452" class="b">Apple Container</text>
  <text x="892" y="476" class="b">Podman</text>
  <text x="892" y="500" class="b">Docker fallback</text>
  <text x="892" y="532" class="small">isolated container per bot</text>

  <rect x="1114" y="378" width="230" height="188" rx="20" fill="url(#accentC)" filter="url(#shadow)"/>
  <rect x="1114" y="378" width="230" height="188" rx="20" fill="url(#panel)"/>
  <text x="1140" y="424" class="h">Providers</text>
  <text x="1140" y="452" class="b">Gemini OpenAI API</text>
  <text x="1140" y="476" class="b">Tavily Web Search</text>
  <text x="1140" y="500" class="small">keys injected at runtime</text>
  <text x="1140" y="522" class="small">never stored in claw/capsule</text>

  <rect x="56" y="626" width="1288" height="178" rx="20" fill="#020617" opacity="0.64"/>
  <text x="86" y="668" class="h">Ecosystem Repos</text>
  <rect x="86" y="686" width="305" height="88" rx="12" fill="#1d4ed8" opacity="0.90"/>
  <text x="102" y="718" class="chip">metaclaw</text>
  <text x="102" y="740" class="small">Engine core</text>
  <text x="102" y="760" class="small">github.com/fpp-125/metaclaw</text>

  <rect x="408" y="686" width="305" height="88" rx="12" fill="#0f766e" opacity="0.90"/>
  <text x="424" y="718" class="chip">metaclaw-examples</text>
  <text x="424" y="740" class="small">Runnable templates</text>
  <text x="424" y="760" class="small">github.com/fpp-125/metaclaw-examples</text>

  <rect x="730" y="686" width="305" height="88" rx="12" fill="#b45309" opacity="0.90"/>
  <text x="746" y="718" class="chip">metaclaw-skills</text>
  <text x="746" y="740" class="small">Reusable capabilities</text>
  <text x="746" y="760" class="small">github.com/fpp-125/metaclaw-skills</text>

  <rect x="1052" y="686" width="272" height="88" rx="12" fill="#7c3aed" opacity="0.90"/>
  <text x="1068" y="718" class="chip">metaclaw-registry</text>
  <text x="1068" y="740" class="small">Publish/distribution API</text>
  <text x="1068" y="760" class="small">github.com/fpp-125/metaclaw-registry</text>

  <path d="M 382 238 C 410 238, 410 238, 430 238" class="line"/>
  <path d="M 382 470 C 410 470, 410 470, 430 470" class="line"/>
  <path d="M 624 326 C 624 344, 624 350, 624 378" class="line2"/>
  <path d="M 818 238 C 840 238, 844 238, 866 238" class="line"/>
  <path d="M 818 470 C 840 470, 844 470, 866 470" class="line3"/>
  <path d="M 1096 470 C 1104 470, 1108 470, 1114 470" class="line4"/>
  <path d="M 1206 300 C 1206 330, 1206 340, 1206 378" class="line"/>

  <text x="444" y="360" class="small">compile + policy</text>
  <text x="840" y="222" class="small">build + pin digest</text>
  <text x="848" y="454" class="small">run</text>
  <text x="1114" y="356" class="small">runtime calls</text>
</svg>
